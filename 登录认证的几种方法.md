# 登录认证的几种方法
1. 通过写Django中间件，进行权限校验【力度更细】
> 1. 用户登录认证通过后，进行权限初始化，然后通过写入session的形式，然后保存到数据库,最后将表示身份的随机字符串响应时存放在响应头set-cookie中返回给浏览器
     request.session[permissions] = per_dict
     request.session[menu] = per_dict
  2. 下次用户再次访问时，会在请求头cookie中自动带上sessionid那个随机字符串，在访问经过中间件时，会从session中获取随机字符串，然后去数据库中匹配，
  匹配成功则，获取用户所拥有的权限，与访问url进行匹配，如果成功则允许访问，后面经过路由系统匹配对应视图函数，执行相应业务逻辑，返回响应，如果没有匹配则直接返回告知用户无权限。

2. 通过restframework带的认证类进行认证
    2.1. 可在setting中配置全局的验证，即每个访问都必须通过校验
    2.2. 也可以局部校验，即在某个视图类上进行校验
    **具体逻辑为**
    1. 用户登录通过认证后，通过写入一个随机字符串token，写入数据库后，放入到响应体中返回给用户
    2. 当用户下次请求时，会在请求体中带上token，通过校验用户携带的token和数据库中存放的token，来判断用户是否登录
    3. 如果校验成功，则允许继续访问，服务端返回用户请求的响应
    4. 如果不成功，则告知用户，让用户登录后才能访问，且登录后自动返回到之前的页面